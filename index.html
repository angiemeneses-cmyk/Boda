<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuestra Boda â€“ Margarita y Harold</title>
  <link rel="icon" href="favicon.ico">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap');

    :root {
      --rosa: #e9c3c8;
      --rosado: #e4a0a8;
      --vino: #8b3e50;
      --gris: #555;
      --beige: #fdf9f8;
      --blanco: #ffffff;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Poppins', sans-serif;
      color: var(--gris);
      background: var(--beige);
      overflow-x: hidden;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }

    .animate-in { animation: fadeInUp 1s ease-out forwards; opacity: 0; }

    /* HERO */
    .hero {
      min-height: 80vh;
      background: linear-gradient(rgba(139,62,80,0.4),rgba(0,0,0,0.4)),
      url('https://lh3.googleusercontent.com/d/1zrGO6S1SDDFuHkdeEMQA-BRkmM5TwgFO=s500');
      background-size: cover;
      background-position: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #fff;
      padding: 2rem;
    }

    .hero h1 {
      font-family:'Playfair Display',serif;
      font-size:4rem;
      font-weight:500;
      letter-spacing:2px;
      margin-bottom:1rem;
    }

    .hero span { color: var(--rosa); }

    h2 {
      font-family:'Playfair Display',serif;
      font-size:2.5rem;
      color:var(--vino);
      margin-bottom:2rem;
      text-align:center;
    }

    section {
      padding:5rem 1.5rem;
      max-width:1100px;
      margin:auto;
    }

    /* COUNTDOWN */
    .countdown-box {
      background:linear-gradient(135deg,var(--blanco),var(--rosa));
      border-radius:50%; width:280px; height:280px;
      margin:4rem auto;
      display:flex; align-items:center; justify-content:center;
      animation: pulse 3s infinite;
    }

    .btn {
      background: linear-gradient(135deg,var(--rosado),var(--vino));
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 50px;
      text-decoration: none;
      font-size: 1rem;
      display: inline-block;
      cursor: pointer;
    }

    /* FORMULARIO */
    .form-container {
      background:white; border-radius:20px; padding:2rem;
      max-width:500px; margin:auto;
    }

    .form-input {
      width:100%; padding:1rem; margin-bottom:1rem;
      border:2px solid #eee;
      border-radius:12px;
    }

    /* BOTONES FLOTANTES */
    .music-btn, .admin-toggle-btn {
      position:fixed;
      bottom:1.2rem;
      width:55px; height:55px;
      border-radius:50%;
      border:none;
      cursor:pointer;
      z-index:1000;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:1.3rem;
      color:white;
    }

    .music-btn { right:1.2rem; background:linear-gradient(135deg,var(--rosado),var(--vino)); }
    .admin-toggle-btn { left:1.2rem; background:gray; }

    footer {
      padding:3rem 1rem; color:white;
      text-align:center;
      background:linear-gradient(135deg,var(--vino),#6d2f3f);
    }
  </style>
</head>

<body>

  <section class="hero">
    <h1>Margarita <span>&</span> Harold</h1>
    <p>"MÃ¡s valen dos que uno..." <br><em>EclesiastÃ©s 4:9</em></p>
  </section>

  <section class="countdown-section animate-in">
    <h2>Faltan</h2>
    <div class="countdown-box">
      <div id="countdown" style="text-align:center;"></div>
    </div>
  </section>

  <section class="dresscode animate-in">
    <h2>CÃ³digo de vestimenta</h2>
    <p style="text-align:center;">Nos reservamos el color blanco</p>
  </section>

  <!-- EVENTOS -->
  <section class="event-details animate-in">
    <h2>Detalles del evento</h2>
    <div class="event-card">
      <h3>Ceremonia</h3>
      <p>15 de noviembre 2025 - 10:00 AM</p>
      <p>Parroquia Juan Pablo Segundo</p>
      <a href="https://maps.app.goo.gl/BkKQshBozQyhcEC46" class="btn" target="_blank">Ver en mapa</a>
    </div>

    <div class="event-card">
      <h3>RecepciÃ³n</h3>
      <p>15 de noviembre 2025 - 5:00 PM</p>
      <p>Villa Guadalupe</p>
      <a href="https://maps.app.goo.gl/U9rPAX5uKHPMajzP8" class="btn" target="_blank">Ver en mapa</a>
    </div>
  </section>

  <!-- FORMULARIO -->
  <section class="form-section animate-in">
    <h2>Confirma tu asistencia</h2>

    <div class="form-container">
      <form id="rsvpForm">
        <input type="text" id="nombre" placeholder="Tu nombre completo" required class="form-input">
        <input type="text" id="alergias" placeholder="Alergias o intolerancias" class="form-input">
        <input type="number" id="acompanantes" placeholder="NÃºmero de acompaÃ±antes" min="0" class="form-input">
        <button type="submit" class="btn" style="width:100%;">Confirmar</button>
      </form>

      <div id="successMessage" style="display:none; margin-top:1rem; padding:1rem; background:#d4edda; color:#155724;">
        Â¡Gracias por confirmar!
      </div>
    </div>
  </section>

  <!-- PANEL ADMIN -->
  <section id="adminSection" style="display:none; padding:4rem 1rem;">
    <h2>Panel de AdministraciÃ³n</h2>

    <div id="adminLogin">
      <input type="password" id="adminPassword" class="form-input" placeholder="ContraseÃ±a">
      <button onclick="checkPassword()" class="btn" style="width:100%;">Acceder</button>
      <p id="loginError" style="color:red; display:none; text-align:center;">ContraseÃ±a incorrecta</p>
    </div>

    <div id="adminContent" style="display:none;">
      <button onclick="logout()" class="btn" style="background:gray; margin-bottom:1rem;">Cerrar sesiÃ³n</button>
      <div id="guestList" style="background:white; padding:1rem; border-radius:10px;">
        Cargando...
      </div>
    </div>
  </section>

  <!-- BOTÃ“N ADMIN -->
  <button class="admin-toggle-btn" onclick="toggleAdminSection()">ðŸ‘¤</button>

  <!-- BOTÃ“N MÃšSICA -->
  <button class="music-btn" id="musicBtn" onclick="toggleMusic()">â™«</button>

  <!-- AUDIO -->
  <audio id="bgMusic" loop>
    <source src="TU_AUDIO.mp3" type="audio/mp3">
  </audio>


<script>
/* URL DEL SCRIPT DE GOOGLE */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw18QjijRJaANBuLicggQVIObJHj4BLjKQi-J6QedazftAJmW5RFXU7xdmvuVDxs8WXsQ/exec";

/************ MÃšSICA ************/
const music = document.getElementById("bgMusic");
const btnMusic = document.getElementById("musicBtn");

function toggleMusic() {
  if (music.paused) music.play();
  else music.pause();
}

/************ COUNTDOWN ************/
const target = new Date("Nov 15, 2025 10:00:00").getTime();
function pad(n){ return n.toString().padStart(2,'0'); }

setInterval(() => {
  const now = Date.now();
  const diff = target - now;

  if (diff < 0) {
    document.getElementById("countdown").innerHTML = "Â¡Hoy es el dÃ­a!";
    return;
  }

  const d = Math.floor(diff / (1000*60*60*24));
  const h = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const m = Math.floor((diff%(1000*60*60))/1000/60);
  const s = Math.floor((diff%(1000*60))/1000);

  document.getElementById("countdown").innerHTML =
    `<h3>${pad(d)} dÃ­as ${pad(h)} h ${pad(m)} m ${pad(s)} s</h3>`;
}, 1000);


/************ FORMULARIO â†’ GOOGLE SHEETS ************/
document.getElementById("rsvpForm").addEventListener("submit", e => {
  e.preventDefault();

  const data = {
    nombre: document.getElementById("nombre").value.trim(),
    alergias: document.getElementById("alergias").value.trim(),
    acompanantes: parseInt(document.getElementById("acompanantes").value) || 0
  };

  fetch(SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify(data),
    headers: { "Content-Type": "application/json" }
  })
  .then(res => res.text())
  .then(() => {
    document.getElementById("successMessage").style.display = "block";
    e.target.reset();
    setTimeout(() => {
      document.getElementById("successMessage").style.display = "none";
    }, 3000);
  });
});


/************ ADMIN ************/
const ADMIN_PASSWORD = "margarita2025";
let adminOpen = false;

function toggleAdminSection() {
  adminOpen = !adminOpen;
  document.getElementById("adminSection").style.display = adminOpen ? "block" : "none";
}

function checkPassword() {
  const p = document.getElementById("adminPassword").value;
  if (p === ADMIN_PASSWORD) {
    document.getElementById("adminLogin").style.display = "none";
    document.getElementById("adminContent").style.display = "block";
    loadGuests();
  } else {
    document.getElementById("loginError").style.display = "block";
  }
}

function logout() {
  document.getElementById("adminLogin").style.display = "block";
  document.getElementById("adminContent").style.display = "none";
}

function loadGuests() {
  fetch(SCRIPT_URL)
    .then(res => res.json())
    .then(data => {
      const list = document.getElementById("guestList");
      list.innerHTML = "";

      if (!data || data.length === 0) {
        list.innerHTML = "<p>No hay confirmaciones.</p>";
        return;
      }

      data.forEach(g => {
        list.innerHTML += `
          <div style="padding:0.5rem; border-bottom:1px solid #eee;">
            <strong>${g.nombre}</strong><br>
            Alergias: ${g.alergias}<br>
            AcompaÃ±antes: ${g.acompanantes}<br>
            Fecha: ${new Date(g.fecha).toLocaleString('es-ES')}
          </div>
        `;
      });
    });
}
</script>

</body>
</html>
